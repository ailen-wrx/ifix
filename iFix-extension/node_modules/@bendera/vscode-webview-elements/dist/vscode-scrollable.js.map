{"version":3,"file":"vscode-scrollable.js","sourceRoot":"","sources":["../src/vscode-scrollable.ts"],"names":[],"mappings":"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","sourcesContent":["import {css, CSSResultGroup, html, TemplateResult} from 'lit';\r\nimport {\r\n  customElement,\r\n  property,\r\n  query,\r\n  queryAssignedNodes,\r\n  state,\r\n} from 'lit/decorators.js';\r\nimport {classMap} from 'lit/directives/class-map.js';\r\nimport {styleMap} from 'lit/directives/style-map.js';\r\nimport {VscElement} from './includes/VscElement';\r\n\r\n@customElement('vscode-scrollable')\r\nexport class VscodeScrollable extends VscElement {\r\n  @property({type: Boolean, reflect: true})\r\n  shadow = true;\r\n\r\n  @property({type: Boolean, reflect: true})\r\n  scrolled = false;\r\n\r\n  @property({type: Number})\r\n  set scrollPos(val: number) {\r\n    this._scrollableContainer.scrollTop = val;\r\n  }\r\n  get scrollPos(): number {\r\n    return this._scrollableContainer.scrollTop;\r\n  }\r\n\r\n  @property({type: Number})\r\n  get scrollMax(): number {\r\n    return this._scrollableContainer.scrollHeight;\r\n  }\r\n\r\n  @state()\r\n  private _isDragging = false;\r\n\r\n  @state()\r\n  private _thumbHeight = 0;\r\n\r\n  @state()\r\n  private _thumbY = 0;\r\n\r\n  @state()\r\n  private _thumbVisible = false;\r\n\r\n  @state()\r\n  private _thumbFade = false;\r\n\r\n  @state()\r\n  private _thumbActive = false;\r\n\r\n  @query('.content')\r\n  private _contentElement!: HTMLDivElement;\r\n\r\n  @query('.scrollbar-thumb')\r\n  private _scrollThumbElement!: HTMLDivElement;\r\n\r\n  @query('.scrollable-container')\r\n  private _scrollableContainer!: HTMLDivElement;\r\n\r\n  @queryAssignedNodes()\r\n  private _assignedNodes!: NodeList;\r\n\r\n  private _resizeObserver!: ResizeObserver;\r\n  private _scrollThumbStartY = 0;\r\n  private _mouseStartY = 0;\r\n  private _scrollbarVisible = true;\r\n  private _scrollbarTrackZ = 0;\r\n\r\n  connectedCallback(): void {\r\n    super.connectedCallback();\r\n\r\n    this._resizeObserver = new ResizeObserver(\r\n      this._resizeObserverCallbackBound\r\n    );\r\n\r\n    this.requestUpdate();\r\n\r\n    this.updateComplete.then(() => {\r\n      this._scrollableContainer.addEventListener(\r\n        'scroll',\r\n        this._onScrollableContainerScroll.bind(this)\r\n      );\r\n      this._resizeObserver.observe(this._contentElement);\r\n    });\r\n\r\n    this.addEventListener('mouseover', this._onComponentMouseOverBound);\r\n    this.addEventListener('mouseout', this._onComponentMouseOutBound);\r\n  }\r\n\r\n  disconnectedCallback(): void {\r\n    super.disconnectedCallback();\r\n\r\n    this._resizeObserver.unobserve(this);\r\n    this._resizeObserver.disconnect();\r\n\r\n    this.removeEventListener('mouseover', this._onComponentMouseOverBound);\r\n    this.removeEventListener('mouseout', this._onComponentMouseOutBound);\r\n  }\r\n\r\n  private _resizeObserverCallback() {\r\n    this._updateScrollbar();\r\n  }\r\n\r\n  private _resizeObserverCallbackBound =\r\n    this._resizeObserverCallback.bind(this);\r\n\r\n  private _updateScrollbar() {\r\n    const compCr = this.getBoundingClientRect();\r\n    const contentCr = this._contentElement.getBoundingClientRect();\r\n\r\n    if (compCr.height >= contentCr.height) {\r\n      this._scrollbarVisible = false;\r\n    } else {\r\n      this._scrollbarVisible = true;\r\n      this._thumbHeight = compCr.height * (compCr.height / contentCr.height);\r\n    }\r\n\r\n    this.requestUpdate();\r\n  }\r\n\r\n  private _zIndexFix() {\r\n    let highestZ = 0;\r\n\r\n    this._assignedNodes.forEach((n) => {\r\n      if ('style' in n) {\r\n        const computedZIndex = window.getComputedStyle(n as HTMLElement).zIndex;\r\n        const isNumber = /([0-9-])+/g.test(computedZIndex);\r\n\r\n        if (isNumber) {\r\n          highestZ =\r\n            Number(computedZIndex) > highestZ\r\n              ? Number(computedZIndex)\r\n              : highestZ;\r\n        }\r\n      }\r\n    });\r\n\r\n    this._scrollbarTrackZ = highestZ + 1;\r\n    this.requestUpdate();\r\n  }\r\n\r\n  private _onSlotChange() {\r\n    this._updateScrollbar();\r\n    this._zIndexFix();\r\n  }\r\n\r\n  private _onScrollThumbMouseDown(event: MouseEvent) {\r\n    const cmpCr = this.getBoundingClientRect();\r\n    const thCr = this._scrollThumbElement.getBoundingClientRect();\r\n\r\n    this._mouseStartY = event.screenY;\r\n    this._scrollThumbStartY = thCr.top - cmpCr.top;\r\n    this._isDragging = true;\r\n    this._thumbActive = true;\r\n\r\n    document.addEventListener('mousemove', this._onScrollThumbMouseMoveBound);\r\n    document.addEventListener('mouseup', this._onScrollThumbMouseUpBound);\r\n  }\r\n\r\n  private _onScrollThumbMouseMove(event: MouseEvent) {\r\n    const predictedPos =\r\n      this._scrollThumbStartY + (event.screenY - this._mouseStartY);\r\n    let nextPos = 0;\r\n    const cmpH = this.getBoundingClientRect().height;\r\n    const thumbH = this._scrollThumbElement.getBoundingClientRect().height;\r\n    const contentH = this._contentElement.getBoundingClientRect().height;\r\n\r\n    if (predictedPos < 0) {\r\n      nextPos = 0;\r\n    } else if (predictedPos > cmpH - thumbH) {\r\n      nextPos = cmpH - thumbH;\r\n    } else {\r\n      nextPos = predictedPos;\r\n    }\r\n\r\n    this._thumbY = nextPos;\r\n    this._scrollableContainer.scrollTop =\r\n      (nextPos / (cmpH - thumbH)) * (contentH - cmpH);\r\n  }\r\n\r\n  private _onScrollThumbMouseMoveBound =\r\n    this._onScrollThumbMouseMove.bind(this);\r\n\r\n  private _onScrollThumbMouseUp(event: MouseEvent) {\r\n    this._isDragging = false;\r\n    this._thumbActive = false;\r\n\r\n    const cr = this.getBoundingClientRect();\r\n    const {x, y, width, height} = cr;\r\n    const {pageX, pageY} = event;\r\n\r\n    if (pageX > x + width || pageX < x || pageY > y + height || pageY < y) {\r\n      this._thumbFade = true;\r\n      this._thumbVisible = false;\r\n    }\r\n\r\n    document.removeEventListener(\r\n      'mousemove',\r\n      this._onScrollThumbMouseMoveBound\r\n    );\r\n    document.removeEventListener('mouseup', this._onScrollThumbMouseUpBound);\r\n  }\r\n\r\n  private _onScrollThumbMouseUpBound = this._onScrollThumbMouseUp.bind(this);\r\n\r\n  private _onScrollableContainerScroll() {\r\n    const scrollTop = this._scrollableContainer.scrollTop;\r\n    this.scrolled = scrollTop > 0;\r\n\r\n    const cmpH = this.getBoundingClientRect().height;\r\n    const thumbH = this._scrollThumbElement.getBoundingClientRect().height;\r\n    const contentH = this._contentElement.getBoundingClientRect().height;\r\n\r\n    const overflown = contentH - cmpH;\r\n    const ratio = scrollTop / overflown;\r\n\r\n    this._thumbY = ratio * (cmpH - thumbH);\r\n  }\r\n\r\n  private _onComponentMouseOver() {\r\n    this._thumbVisible = true;\r\n    this._thumbFade = false;\r\n  }\r\n\r\n  private _onComponentMouseOverBound = this._onComponentMouseOver.bind(this);\r\n\r\n  private _onComponentMouseOut() {\r\n    if (!this._thumbActive) {\r\n      this._thumbVisible = false;\r\n      this._thumbFade = true;\r\n    }\r\n  }\r\n\r\n  private _onComponentMouseOutBound = this._onComponentMouseOut.bind(this);\r\n\r\n  static get styles(): CSSResultGroup {\r\n    return [\r\n      super.styles,\r\n      css`\r\n        :host {\r\n          display: block;\r\n          position: relative;\r\n        }\r\n\r\n        .scrollable-container {\r\n          height: 100%;\r\n          overflow: auto;\r\n        }\r\n\r\n        .scrollable-container::-webkit-scrollbar {\r\n          cursor: default;\r\n          width: 0;\r\n        }\r\n\r\n        .shadow {\r\n          box-shadow: var(--vscode-scrollbar-shadow) 0 6px 6px -6px inset;\r\n          display: none;\r\n          height: 3px;\r\n          left: 0;\r\n          pointer-events: none;\r\n          position: absolute;\r\n          top: 0;\r\n          z-index: 1;\r\n          width: 100%;\r\n        }\r\n\r\n        .shadow.visible {\r\n          display: block;\r\n        }\r\n\r\n        .scrollbar-track {\r\n          height: 100%;\r\n          position: absolute;\r\n          right: 0;\r\n          top: 0;\r\n          width: 10px;\r\n          z-index: 100;\r\n        }\r\n\r\n        .scrollbar-track.hidden {\r\n          display: none;\r\n        }\r\n\r\n        .scrollbar-thumb {\r\n          background-color: transparent;\r\n          min-height: var(--min-thumb-height, 20px);\r\n          opacity: 0;\r\n          position: absolute;\r\n          right: 0;\r\n          width: 10px;\r\n        }\r\n\r\n        .scrollbar-thumb.visible {\r\n          background-color: var(--vscode-scrollbarSlider-background);\r\n          opacity: 1;\r\n          transition: opacity 100ms;\r\n        }\r\n\r\n        .scrollbar-thumb.fade {\r\n          background-color: var(--vscode-scrollbarSlider-background);\r\n          opacity: 0;\r\n          transition: opacity 800ms;\r\n        }\r\n\r\n        .scrollbar-thumb.visible:hover {\r\n          background-color: var(--vscode-scrollbarSlider-hoverBackground);\r\n        }\r\n\r\n        .scrollbar-thumb.visible.active,\r\n        .scrollbar-thumb.visible.active:hover {\r\n          background-color: var(--vscode-scrollbarSlider-activeBackground);\r\n        }\r\n\r\n        .content {\r\n          overflow: hidden;\r\n        }\r\n      `,\r\n    ];\r\n  }\r\n\r\n  render(): TemplateResult {\r\n    return html`\r\n      <div\r\n        class=\"scrollable-container\"\r\n        style=\"${styleMap({\r\n          'user-select': this._isDragging ? 'none' : 'auto',\r\n        })}\"\r\n      >\r\n        <div class=\"${classMap({shadow: true, visible: this.scrolled})}\"></div>\r\n        <div\r\n          class=\"${classMap({\r\n            'scrollbar-track': true,\r\n            hidden: !this._scrollbarVisible,\r\n          })}\"\r\n          style=\"${styleMap({\r\n            'z-index': String(this._scrollbarTrackZ),\r\n          })}\"\r\n        >\r\n          <div\r\n            class=\"${classMap({\r\n              'scrollbar-thumb': true,\r\n              visible: this._thumbVisible,\r\n              fade: this._thumbFade,\r\n              active: this._thumbActive,\r\n            })}\"\r\n            style=\"${styleMap({\r\n              height: `${this._thumbHeight}px`,\r\n              top: `${this._thumbY}px`,\r\n            })}\"\r\n            @mousedown=${this._onScrollThumbMouseDown}\r\n          ></div>\r\n        </div>\r\n        <div class=\"content\">\r\n          <slot @slotchange=\"${this._onSlotChange}\"></slot>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'vscode-scrollable': VscodeScrollable;\r\n  }\r\n}\r\n"]}