{"version":3,"file":"FormButtonWidgetBase.js","sourceRoot":"","sources":["../../../src/includes/form-button-widget/FormButtonWidgetBase.ts"],"names":[],"mappings":";;;;;;AACA,OAAO,EAAC,QAAQ,EAAC,MAAM,mBAAmB,CAAC;AAC3C,OAAO,EAAC,mBAAmB,EAAC,MAAM,iBAAiB,CAAC;AACpD,OAAO,EAAC,UAAU,EAAC,MAAM,eAAe,CAAC;AAEzC,MAAM,OAAO,oBAAqB,SAAQ,UAAU;IAOlD;QACE,KAAK,EAAE,CAAC;QANV,aAAQ,GAAG,CAAC,CAAC;QAGb,YAAO,GAAG,KAAK,CAAC;QA+BR,kBAAa,GAAG,CAAC,CAAC;QAEhB,SAAI,GAAG,MAAM,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC,KAAK,CACvD,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CACrB,EAAE,CAAC;QAcI,sBAAiB,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAMjD,qBAAgB,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAnDrD,mBAAmB,EAAE,CAAC;QACtB,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACnE,CAAC;IAED,iBAAiB;QACf,KAAK,CAAC,iBAAiB,EAAE,CAAC;QAC1B,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACvD,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;IACvD,CAAC;IAED,oBAAoB;QAClB,KAAK,CAAC,oBAAoB,EAAE,CAAC;QAC7B,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAC1D,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;IAC1D,CAAC;IAED,wBAAwB,CAAC,IAAY,EAAE,MAAc,EAAE,MAAc;QACnE,KAAK,CAAC,wBAAwB,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;QAErD,IAAI,IAAI,KAAK,UAAU,IAAI,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,EAAE;YACxD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC;YACnC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;SACpB;aAAM,IAAI,IAAI,KAAK,UAAU,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,EAAE;YAChE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC;SACpC;IACH,CAAC;IAQS,YAAY;QACpB,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAC;IACrC,CAAC;IAES,cAAc,CAAC,MAAqB;QAC5C,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAC;IACrC,CAAC;IAEO,YAAY;QAClB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACtB,CAAC;IAIO,WAAW;QACjB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACvB,CAAC;IAID,MAAM,KAAK,MAAM;QACf,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IACxB,CAAC;CACF;AA/DC;IADC,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAC,CAAC;sDAC3B;AAGb;IADC,QAAQ,CAAC,EAAC,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAC,CAAC;qDACzB","sourcesContent":["import {CSSResultGroup} from 'lit';\r\nimport {property} from 'lit/decorators.js';\r\nimport {applyForegroundRGBA} from '../themeHelpers';\r\nimport {VscElement} from '../VscElement';\r\n\r\nexport class FormButtonWidgetBase extends VscElement {\r\n  @property({type: Number, reflect: true})\r\n  tabindex = 0;\r\n\r\n  @property({type: Boolean, reflect: true})\r\n  focused = false;\r\n\r\n  constructor() {\r\n    super();\r\n    applyForegroundRGBA();\r\n    this.addEventListener('keydown', this._handleKeyDown.bind(this));\r\n  }\r\n\r\n  connectedCallback(): void {\r\n    super.connectedCallback();\r\n    this.addEventListener('focus', this._handleFocusBound);\r\n    this.addEventListener('blur', this._handleBlurBound);\r\n  }\r\n\r\n  disconnectedCallback(): void {\r\n    super.disconnectedCallback();\r\n    this.removeEventListener('focus', this._handleFocusBound);\r\n    this.removeEventListener('blur', this._handleBlurBound);\r\n  }\r\n\r\n  attributeChangedCallback(name: string, oldVal: string, newVal: string): void {\r\n    super.attributeChangedCallback(name, oldVal, newVal);\r\n\r\n    if (name === 'disabled' && this.hasAttribute('disabled')) {\r\n      this._prevTabindex = this.tabindex;\r\n      this.tabindex = -1;\r\n    } else if (name === 'disabled' && !this.hasAttribute('disabled')) {\r\n      this.tabindex = this._prevTabindex;\r\n    }\r\n  }\r\n\r\n  private _prevTabindex = 0;\r\n\r\n  protected _uid = `id_${new Date().valueOf()}_${Math.floor(\r\n    Math.random() * 9999\r\n  )}`;\r\n\r\n  protected _handleClick(): void {\r\n    throw new Error('Not implemented');\r\n  }\r\n\r\n  protected _handleKeyDown(_event: KeyboardEvent): void {\r\n    throw new Error('Not implemented');\r\n  }\r\n\r\n  private _handleFocus(): void {\r\n    this.focused = true;\r\n  }\r\n\r\n  private _handleFocusBound = this._handleFocus.bind(this);\r\n\r\n  private _handleBlur(): void {\r\n    this.focused = false;\r\n  }\r\n\r\n  private _handleBlurBound = this._handleBlur.bind(this);\r\n\r\n  static get styles(): CSSResultGroup {\r\n    return [super.styles];\r\n  }\r\n}\r\n"]}