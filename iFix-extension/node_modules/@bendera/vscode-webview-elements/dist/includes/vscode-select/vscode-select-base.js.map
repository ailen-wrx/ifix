{"version":3,"file":"vscode-select-base.js","sourceRoot":"","sources":["../../../src/includes/vscode-select/vscode-select-base.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAiB,IAAI,EAAE,OAAO,EAAiB,MAAM,KAAK,CAAC;AAClE,OAAO,EAAC,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAC,MAAM,mBAAmB,CAAC;AACzD,OAAO,EAAC,QAAQ,EAAC,MAAM,6BAA6B,CAAC;AACrD,OAAO,qBAAqB,CAAC;AAE7B,OAAO,cAAc,MAAM,UAAU,CAAC;AAEtC,OAAO,EAAC,sBAAsB,EAAC,MAAM,WAAW,CAAC;AACjD,OAAO,EAAC,UAAU,EAAC,MAAM,eAAe,CAAC;AAOzC,MAAM,YAAY,GAAG,EAAE,CAAC;AACxB,MAAM,UAAU,GAAG,EAAE,CAAC;AACtB,MAAM,WAAW,GAAG,GAAG,CAAC;AAExB;;GAEG;AACH,MAAM,OAAO,gBAAiB,SAAQ,UAAU;IAAhD;;QAEE,iBAAY,GAAG,OAAO,CAAC;QAGvB,aAAQ,GAAG,KAAK,CAAC;QAGjB,cAAS,GAAG,KAAK,CAAC;QAgClB,YAAO,GAAG,KAAK,CAAC;QAqBhB,aAAQ,GAAG,CAAC,CAAC;QAkBH,iBAAY,GAAG,CAAC,CAAC,CAAC;QAGlB,wBAAmB,GAAG,EAAE,CAAC;QAGzB,YAAO,GAAiB,OAAO,CAAC;QAgBhC,mBAAc,GAAG,EAAE,CAAC;QAGpB,mBAAc,GAAG,CAAC,CAAC,CAAC;QAGpB,qBAAgB,GAAa,EAAE,CAAC;QAGhC,kBAAa,GAAG,KAAK,CAAC;QAGtB,aAAQ,GAAqB,EAAE,CAAC;QAGhC,WAAM,GAAG,EAAE,CAAC;QAGZ,YAAO,GAAa,EAAE,CAAC;QAGvB,mBAAc,GAAG,CAAC,CAAC;QAQnB,cAAS,GAAG,KAAK,CAAC;QACpB,sBAAiB,GAAG,KAAK,CAAC;QA0HxB,yBAAoB,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAOzD,sBAAiB,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IA2Q3D,CAAC;IArgBC;;;;;OAKG;IAEH,IAAI,MAAM,CAAC,GAAW;QACpB,MAAM,WAAW,GAAmB;YAClC,UAAU;YACV,OAAO;YACP,YAAY;YACZ,mBAAmB;SACpB,CAAC;QAEF,IAAI,WAAW,CAAC,QAAQ,CAAC,GAAmB,CAAC,EAAE;YAC7C,IAAI,CAAC,OAAO,GAAG,GAAmB,CAAC;SACpC;aAAM;YACL,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,OAAO,CAAC,IAAI,CACV,8CAA8C,GAAG,gGAAgG,EACjJ,IAAI,CACL,CAAC;SACH;IACH,CAAC;IACD,IAAI,MAAM;QACR,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IAKD;;;OAGG;IAEH,IAAI,OAAO,CAAC,IAAc;QACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,EAAC,GAAG,EAAE,EAAE,KAAK,EAAC,CAAC,CAAC,CAAC;IAC5D,CAAC;IACD,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAC,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,QAAQ,EAAE,QAAQ,EAAC,EAAE,EAAE,CAAC,CAAC;YAC7E,KAAK;YACL,KAAK;YACL,WAAW;YACX,QAAQ;YACR,QAAQ;SACT,CAAC,CAAC,CAAC;IACN,CAAC;IAKD,iBAAiB;QACf,KAAK,CAAC,iBAAiB,EAAE,CAAC;QAC1B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAC3D,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACvD,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;IACvD,CAAC;IAED,oBAAoB;QAClB,KAAK,CAAC,oBAAoB,EAAE,CAAC;QAC7B,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAC9D,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAC1D,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;IAC1D,CAAC;IAYD,IAAc,gBAAgB;QAC5B,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,cAAc,KAAK,EAAE,EAAE;YAChD,OAAO,IAAI,CAAC,QAAQ,CAAC;SACtB;QAED,OAAO,sBAAsB,CAC3B,IAAI,CAAC,QAAQ,EACb,IAAI,CAAC,cAAc,EACnB,IAAI,CAAC,OAAO,CACb,CAAC;IACJ,CAAC;IAmCD,IAAc,eAAe;QAC3B,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;IAC/D,CAAC;IAES,8BAA8B;QACtC,MAAM,OAAO,GAAqB,EAAE,CAAC;QACrC,IAAI,YAAY,GAAG,CAAC,CAAC;QACrB,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,CAAC;QAC7C,MAAM,eAAe,GAAmB;YACtC,eAAe,EAAE,EAAE;YACnB,MAAM,EAAE,EAAE;SACX,CAAC;QAEF,KAAK,CAAC,OAAO,CAAC,CAAC,EAAQ,EAAE,EAAE;YACzB,IACE,CAAC,CACC,EAAE,CAAC,QAAQ,KAAK,IAAI,CAAC,YAAY;gBAChC,EAAc,CAAC,OAAO,CAAC,eAAe,CAAC,CACzC,EACD;gBACA,OAAO;aACR;YAED,MAAM,EACJ,SAAS,EACT,KAAK,EAAE,OAAO,EACd,WAAW,EACX,QAAQ,EACR,QAAQ,EACT,GAAG,EAAkB,CAAC;YAEvB,MAAM,KAAK,GAAI,EAAmB,CAAC,YAAY,CAAC,OAAO,CAAC;gBACtD,CAAC,CAAC,OAAO;gBACT,CAAC,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;YAErB,MAAM,EAAE,GAAmB;gBACzB,KAAK,EAAE,SAAS,CAAC,IAAI,EAAE;gBACvB,KAAK;gBACL,WAAW;gBACX,QAAQ;gBACR,KAAK,EAAE,YAAY;gBACnB,QAAQ;aACT,CAAC;YAEF,YAAY,GAAG,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAEhC,IAAI,QAAQ,EAAE;gBACZ,eAAe,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBACzD,eAAe,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACpC;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QAExB,OAAO,eAAe,CAAC;IACzB,CAAC;IAES,KAAK,CAAC,eAAe,CAAC,OAAgB;QAC9C,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC;QAC7B,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;QAEpC,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAChD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC;YAExC,IAAI,IAAI,CAAC,YAAY,GAAG,YAAY,GAAG,CAAC,EAAE;gBACxC,MAAM,IAAI,CAAC,cAAc,CAAC;gBAE1B,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CACtC,IAAI,CAAC,YAAY,GAAG,UAAU,CAC/B,CAAC;aACH;SACF;QAED,IAAI,OAAO,EAAE;YACX,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;SAC7D;aAAM;YACL,MAAM,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;SAChE;IACH,CAAC;IAES,oBAAoB;QAC5B,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACnB,IAAI,CAAC,aAAa,CAChB,IAAI,WAAW,CAAC,YAAY,EAAE;gBAC5B,MAAM,EAAE;oBACN,aAAa,EAAE,IAAI,CAAC,cAAc;oBAClC,KAAK,EAAE,IAAI,CAAC,MAAM;iBACnB;aACF,CAAC,CACH,CAAC;SACH;aAAM;YACL,IAAI,CAAC,aAAa,CAChB,IAAI,WAAW,CAAC,YAAY,EAAE;gBAC5B,MAAM,EAAE;oBACN,eAAe,EAAE,IAAI,CAAC,gBAAgB;oBACtC,KAAK,EAAE,IAAI,CAAC,OAAO;iBACpB;aACF,CAAC,CACH,CAAC;SACH;IACH,CAAC;IAES,YAAY;QACpB,IAAI,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAE1C,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;SACvB;IACH,CAAC;IAES,eAAe,CAAC,KAAiB;QACzC,MAAM,IAAI,GAAG,KAAK,CAAC,YAAY,EAAE,CAAC;QAClC,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,KAAK,IAAI,CAAC,CAAC;QAElD,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;YAChB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;YAC5B,MAAM,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;SAChE;IACH,CAAC;IAIO,YAAY;QAClB,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;QAC/B,MAAM,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAClE,CAAC;IAIO,uBAAuB;QAC7B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAE1C,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC;SACxB;IACH,CAAC;IAES,sBAAsB;QAC9B,IAAI,CAAC,uBAAuB,EAAE,CAAC;IACjC,CAAC;IAES,wBAAwB,CAAC,EAAiB;QAClD,IAAI,EAAE,CAAC,GAAG,KAAK,OAAO,EAAE;YACtB,IAAI,CAAC,uBAAuB,EAAE,CAAC;SAChC;IACH,CAAC;IAES,kBAAkB,CAAC,EAAc;QACzC,IAAI,IAAI,CAAC,iBAAiB,EAAE;YAC1B,OAAO;SACR;QAED,MAAM,EAAE,GAAG,EAAE,CAAC,MAAqB,CAAC;QAEpC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;YAC1B,OAAO;SACR;QAED,IAAI,CAAC,YAAY,GAAG,MAAM,CACxB,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAC5D,CAAC;IACJ,CAAC;IAES,eAAe;QACvB,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;QACnE,MAAM,gBAAgB,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC;QAE7C,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC;QAEvC,IACE,CAAC,IAAI,CAAC,SAAS;YACf,CAAC,gBAAgB;YACjB,IAAI,CAAC,cAAc,KAAK,IAAI,CAAC,YAAY,EACzC;YACA,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC;YACpD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC;YACvD,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC7B;QAED,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,gBAAgB,EAAE;gBACxC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC;aACtE;YAED,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,gBAAgB,EAAE;gBACvC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE;oBAC5B,IAAI,CAAC,yBAAyB,EAAE,CAAC;gBACnC,CAAC,CAAC,CAAC;aACJ;SACF;QAED,IAAI,IAAI,CAAC,SAAS,IAAI,gBAAgB,EAAE;YACtC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;SACvB;IACH,CAAC;IAEO,eAAe;QACrB,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACvB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YAC3B,OAAO;SACR;QAED,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,EAAE;YAClE,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;YACnE,MAAM,EAAC,QAAQ,EAAC,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAE3C,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,GAAG,CAAC,QAAQ,CAAC;YAC7C,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;YAE3B,IAAI,CAAC,OAAO,CAAC,CAAC,EAAC,KAAK,EAAE,QAAQ,EAAC,EAAE,EAAE;gBACjC,IAAI,QAAQ,EAAE;oBACZ,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBACnC;YACH,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAEO,yBAAyB;QAC/B,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,GAAG,UAAU,CAAC,CAAC;IAC3E,CAAC;IAEO,KAAK,CAAC,0BAA0B,CAAC,SAAwB;QAC/D,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ;YAC3B,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM;YAC9B,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;QAEzB,IAAI,OAAO,IAAI,YAAY,EAAE;YAC3B,OAAO;SACR;QAED,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAC9B,MAAM,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAE7D,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACtB,MAAM,IAAI,CAAC,cAAc,CAAC;SAC3B;QAED,MAAM,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC;QAChD,MAAM,MAAM,GAAG,IAAI,CAAC,YAAY,GAAG,UAAU,CAAC;QAE9C,IAAI,SAAS,KAAK,MAAM,EAAE;YACxB,IAAI,MAAM,GAAG,UAAU,IAAI,WAAW,GAAG,WAAW,EAAE;gBACpD,IAAI,CAAC,YAAY,CAAC,SAAS;oBACzB,CAAC,IAAI,CAAC,YAAY,GAAG,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC;aACzD;SACF;QAED,IAAI,SAAS,KAAK,IAAI,EAAE;YACtB,IAAI,MAAM,IAAI,WAAW,GAAG,UAAU,EAAE;gBACtC,IAAI,CAAC,yBAAyB,EAAE,CAAC;aAClC;SACF;IACH,CAAC;IAES,iBAAiB;QACzB,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC,EAAE;gBAC1B,OAAO;aACR;YAED,IAAI,CAAC,YAAY,IAAI,CAAC,CAAC;YACvB,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,CAAC;SACvC;IACH,CAAC;IAES,mBAAmB;QAC3B,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;gBACxD,OAAO;aACR;YAED,IAAI,CAAC,YAAY,IAAI,CAAC,CAAC;YACvB,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC,CAAC;SACzC;IACH,CAAC;IAEO,mBAAmB,CAAC,KAAoB;QAC9C,IAAI,CAAC,GAAG,EAAE,SAAS,EAAE,WAAW,EAAE,QAAQ,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;YAC/D,KAAK,CAAC,eAAe,EAAE,CAAC;YACxB,KAAK,CAAC,cAAc,EAAE,CAAC;SACxB;QAED,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,EAAE;YACzB,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;QAED,IAAI,KAAK,CAAC,GAAG,KAAK,GAAG,EAAE;YACrB,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;QAED,IAAI,KAAK,CAAC,GAAG,KAAK,QAAQ,EAAE;YAC1B,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;SAC7B;QAED,IAAI,KAAK,CAAC,GAAG,KAAK,SAAS,EAAE;YAC3B,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC1B;QAED,IAAI,KAAK,CAAC,GAAG,KAAK,WAAW,EAAE;YAC7B,IAAI,CAAC,mBAAmB,EAAE,CAAC;SAC5B;IACH,CAAC;IAEO,iBAAiB;QACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACtB,CAAC;IAEO,gBAAgB;QACtB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACvB,CAAC;IAES,aAAa;QACrB,MAAM,IAAI,GAAG,IAAI,CAAC,8BAA8B,EAAE,CAAC;QAEnD,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;YAC9C,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,eAAe,CAAC;YAC7C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC;SAC5B;QAED,IACE,CAAC,IAAI,CAAC,SAAS;YACf,CAAC,IAAI,CAAC,QAAQ;YACd,IAAI,CAAC,eAAe,CAAC,MAAM,KAAK,CAAC,EACjC;YACA,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;SACzB;IACH,CAAC;IAES,qBAAqB,CAAC,EAAc;QAC3C,EAAE,CAAC,MAA2B,CAAC,MAAM,EAAE,CAAC;IAC3C,CAAC;IAES,qBAAqB,CAAC,EAAc;QAC5C,IAAI,CAAC,cAAc,GAAI,EAAE,CAAC,MAA2B,CAAC,KAAK,CAAC;QAC5D,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;IAES,cAAc;QACtB,OAAO,EAAE,CAAC;IACZ,CAAC;IAEO,kBAAkB;QACxB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE;YACrC,OAAO,OAAO,CAAC;SAChB;QAED,MAAM,EAAC,WAAW,EAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAEvD,OAAO,WAAW;YAChB,CAAC,CAAC,IAAI,CAAA,4BAA4B,WAAW,QAAQ;YACrD,CAAC,CAAC,OAAO,CAAC;IACd,CAAC;IAES,iBAAiB;QACzB,OAAO,IAAI,CAAA,GAAG,OAAO,EAAE,CAAC;IAC1B,CAAC;IAES,mBAAmB;QAC3B,OAAO,IAAI,CAAA,GAAG,OAAO,EAAE,CAAC;IAC1B,CAAC;IAES,uBAAuB;QAC/B,OAAO,IAAI,CAAA,GAAG,OAAO,EAAE,CAAC;IAC1B,CAAC;IAEO,eAAe;QACrB,MAAM,OAAO,GAAG,QAAQ,CAAC;YACvB,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,IAAI,CAAC,SAAS;SACzB,CAAC,CAAC;QAEH,OAAO,IAAI,CAAA;oBACK,OAAO;UACjB,IAAI,CAAC,cAAc,EAAE,IAAI,IAAI,CAAC,uBAAuB,EAAE;UACvD,IAAI,CAAC,kBAAkB,EAAE;;KAE9B,CAAC;IACJ,CAAC;IAED,MAAM,KAAK,MAAM;QACf,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;IACxC,CAAC;IAED,MAAM;QACJ,OAAO,IAAI,CAAA;6CAC8B,IAAI,CAAC,aAAa;QACvD,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,EAAE;QACrE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC,OAAO;KACxD,CAAC;IACJ,CAAC;CACF;AA7gBC;IADC,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,eAAe,EAAC,CAAC;sDAC7C;AAGvB;IADC,QAAQ,CAAC,EAAC,IAAI,EAAE,OAAO,EAAC,CAAC;kDACT;AAGjB;IADC,QAAQ,CAAC,EAAC,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,YAAY,EAAC,CAAC;mDAChD;AASlB;IADC,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC;8CAkBxB;AAMD;IADC,QAAQ,CAAC,EAAC,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAC,CAAC;iDACzB;AAOhB;IADC,QAAQ,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAAC;+CAGvB;AAYD;IADC,QAAQ,CAAC,EAAC,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAC,CAAC;kDAC5C;AAkBb;IADC,KAAK,EAAE;sDACoB;AAG5B;IADC,KAAK,EAAE;6DAC2B;AAGnC;IADC,KAAK,EAAE;iDACkC;AAG1C;IADC,KAAK,EAAE;wDAWP;AAGD;IADC,KAAK,EAAE;wDACsB;AAG9B;IADC,KAAK,EAAE;wDACsB;AAG9B;IADC,KAAK,EAAE;0DACkC;AAG1C;IADC,KAAK,EAAE;uDACwB;AAGhC;IADC,KAAK,EAAE;kDACkC;AAG1C;IADC,KAAK,EAAE;gDACc;AAGtB;IADC,KAAK,EAAE;iDACyB;AAGjC;IADC,KAAK,EAAE;wDACqB;AAG7B;IADC,KAAK,CAAC,YAAY,CAAC;mDACkB;AAGtC;IADC,KAAK,CAAC,UAAU,CAAC;sDACsB","sourcesContent":["import {CSSResultGroup, html, nothing, TemplateResult} from 'lit';\r\nimport {property, query, state} from 'lit/decorators.js';\r\nimport {classMap} from 'lit/directives/class-map.js';\r\nimport '../../vscode-button';\r\nimport {VscodeOption} from '../../vscode-option';\r\nimport dropdownStyles from './styles';\r\nimport {InternalOption, Option, SearchMethod} from './types';\r\nimport {filterOptionsByPattern} from './helpers';\r\nimport {VscElement} from '../VscElement';\r\n\r\ninterface OptionListStat {\r\n  selectedIndexes: number[];\r\n  values: string[];\r\n}\r\n\r\nconst VISIBLE_OPTS = 10;\r\nconst OPT_HEIGHT = 19;\r\nconst LIST_HEIGHT = 194;\r\n\r\n/**\r\n * @cssprop --dropdown-z-index - workaround for dropdown z-index issues\r\n */\r\nexport class VscodeSelectBase extends VscElement {\r\n  @property({type: String, reflect: true, attribute: 'aria-expanded'})\r\n  ariaExpanded = 'false';\r\n\r\n  @property({type: Boolean})\r\n  combobox = false;\r\n\r\n  @property({type: Boolean, reflect: true, attribute: 'data-cloak'})\r\n  dataCloak = false;\r\n\r\n  /**\r\n   * Filter method\r\n   *\r\n   * @attr [filter=fuzzy]\r\n   * @type {\"fuzzy\"|\"contains\"|\"startsWith\"|\"startsWithPerTerm\"}\r\n   */\r\n  @property({type: String})\r\n  set filter(val: string) {\r\n    const validValues: SearchMethod[] = [\r\n      'contains',\r\n      'fuzzy',\r\n      'startsWith',\r\n      'startsWithPerTerm',\r\n    ];\r\n\r\n    if (validValues.includes(val as SearchMethod)) {\r\n      this._filter = val as SearchMethod;\r\n    } else {\r\n      this._filter = 'fuzzy';\r\n      console.warn(\r\n        `[VSCode Webview Elements] Invalid filter: \"${val}\", fallback to default. Valid values are: \"contains\", \"fuzzy\", \"startsWith\", \"startsWithPerm\".`,\r\n        this\r\n      );\r\n    }\r\n  }\r\n  get filter(): string {\r\n    return this._filter;\r\n  }\r\n\r\n  @property({type: Boolean, reflect: true})\r\n  focused = false;\r\n\r\n  /**\r\n   * @attr [options=[]]\r\n   * @type {Option[]}\r\n   */\r\n  @property({type: Array})\r\n  set options(opts: Option[]) {\r\n    this._options = opts.map((op, index) => ({...op, index}));\r\n  }\r\n  get options(): Option[] {\r\n    return this._options.map(({label, value, description, selected, disabled}) => ({\r\n      label,\r\n      value,\r\n      description,\r\n      selected,\r\n      disabled,\r\n    }));\r\n  }\r\n\r\n  @property({type: Number, attribute: true, reflect: true})\r\n  tabindex = 0;\r\n\r\n  connectedCallback(): void {\r\n    super.connectedCallback();\r\n    this.dataCloak = false;\r\n    this.addEventListener('keydown', this._onComponentKeyDown);\r\n    this.addEventListener('focus', this._onComponentFocus);\r\n    this.addEventListener('blur', this._onComponentBlur);\r\n  }\r\n\r\n  disconnectedCallback(): void {\r\n    super.disconnectedCallback();\r\n    this.removeEventListener('keydown', this._onComponentKeyDown);\r\n    this.removeEventListener('focus', this._onComponentFocus);\r\n    this.removeEventListener('blur', this._onComponentBlur);\r\n  }\r\n\r\n  @state()\r\n  protected _activeIndex = -1;\r\n\r\n  @state()\r\n  protected _currentDescription = '';\r\n\r\n  @state()\r\n  protected _filter: SearchMethod = 'fuzzy';\r\n\r\n  @state()\r\n  protected get _filteredOptions(): InternalOption[] {\r\n    if (!this.combobox || this._filterPattern === '') {\r\n      return this._options;\r\n    }\r\n\r\n    return filterOptionsByPattern(\r\n      this._options,\r\n      this._filterPattern,\r\n      this._filter\r\n    );\r\n  }\r\n\r\n  @state()\r\n  protected _filterPattern = '';\r\n\r\n  @state()\r\n  protected _selectedIndex = -1;\r\n\r\n  @state()\r\n  protected _selectedIndexes: number[] = [];\r\n\r\n  @state()\r\n  protected _showDropdown = false;\r\n\r\n  @state()\r\n  protected _options: InternalOption[] = [];\r\n\r\n  @state()\r\n  protected _value = '';\r\n\r\n  @state()\r\n  protected _values: string[] = [];\r\n\r\n  @state()\r\n  protected _listScrollTop = 0;\r\n\r\n  @query('.main-slot')\r\n  protected _mainSlot!: HTMLSlotElement;\r\n\r\n  @query('.options')\r\n  private _listElement!: HTMLUListElement;\r\n\r\n  protected _multiple = false;\r\n  private _isHoverForbidden = false;\r\n\r\n  protected get _currentOptions(): InternalOption[] {\r\n    return this.combobox ? this._filteredOptions : this._options;\r\n  }\r\n\r\n  protected _addOptionsFromSlottedElements(): OptionListStat {\r\n    const options: InternalOption[] = [];\r\n    let currentIndex = 0;\r\n    const nodes = this._mainSlot.assignedNodes();\r\n    const optionsListStat: OptionListStat = {\r\n      selectedIndexes: [],\r\n      values: [],\r\n    };\r\n\r\n    nodes.forEach((el: Node) => {\r\n      if (\r\n        !(\r\n          el.nodeType === Node.ELEMENT_NODE &&\r\n          (el as Element).matches('vscode-option')\r\n        )\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      const {\r\n        innerText,\r\n        value: elValue,\r\n        description,\r\n        selected,\r\n        disabled\r\n      } = el as VscodeOption;\r\n\r\n      const value = (el as VscodeOption).hasAttribute('value')\r\n        ? elValue\r\n        : innerText.trim();\r\n\r\n      const op: InternalOption = {\r\n        label: innerText.trim(),\r\n        value,\r\n        description,\r\n        selected,\r\n        index: currentIndex,\r\n        disabled\r\n      };\r\n\r\n      currentIndex = options.push(op);\r\n\r\n      if (selected) {\r\n        optionsListStat.selectedIndexes.push(options.length - 1);\r\n        optionsListStat.values.push(value);\r\n      }\r\n    });\r\n\r\n    this._options = options;\r\n\r\n    return optionsListStat;\r\n  }\r\n\r\n  protected async _toggleDropdown(visible: boolean): Promise<void> {\r\n    this._showDropdown = visible;\r\n    this.ariaExpanded = String(visible);\r\n\r\n    if (visible && !this._multiple && !this.combobox) {\r\n      this._activeIndex = this._selectedIndex;\r\n\r\n      if (this._activeIndex > VISIBLE_OPTS - 1) {\r\n        await this.updateComplete;\r\n\r\n        this._listElement.scrollTop = Math.floor(\r\n          this._activeIndex * OPT_HEIGHT\r\n        );\r\n      }\r\n    }\r\n\r\n    if (visible) {\r\n      window.addEventListener('click', this._onClickOutsideBound);\r\n    } else {\r\n      window.removeEventListener('click', this._onClickOutsideBound);\r\n    }\r\n  }\r\n\r\n  protected _dispatchChangeEvent(): void {\r\n    if (!this._multiple) {\r\n      this.dispatchEvent(\r\n        new CustomEvent('vsc-change', {\r\n          detail: {\r\n            selectedIndex: this._selectedIndex,\r\n            value: this._value,\r\n          },\r\n        })\r\n      );\r\n    } else {\r\n      this.dispatchEvent(\r\n        new CustomEvent('vsc-change', {\r\n          detail: {\r\n            selectedIndexes: this._selectedIndexes,\r\n            value: this._values,\r\n          },\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  protected _onFaceClick(): void {\r\n    this._toggleDropdown(!this._showDropdown);\r\n\r\n    if (this._multiple) {\r\n      this._activeIndex = 0;\r\n    }\r\n  }\r\n\r\n  protected _onClickOutside(event: MouseEvent): void {\r\n    const path = event.composedPath();\r\n    const found = path.findIndex((et) => et === this);\r\n\r\n    if (found === -1) {\r\n      this._toggleDropdown(false);\r\n      window.removeEventListener('click', this._onClickOutsideBound);\r\n    }\r\n  }\r\n\r\n  protected _onClickOutsideBound = this._onClickOutside.bind(this);\r\n\r\n  private _onMouseMove() {\r\n    this._isHoverForbidden = false;\r\n    window.removeEventListener('mousemove', this._onMouseMoveBound);\r\n  }\r\n\r\n  private _onMouseMoveBound = this._onMouseMove.bind(this);\r\n\r\n  private _toggleComboboxDropdown() {\r\n    this._filterPattern = '';\r\n    this._toggleDropdown(!this._showDropdown);\r\n\r\n    if (this._multiple) {\r\n      this._activeIndex = -1;\r\n    }\r\n  }\r\n\r\n  protected _onComboboxButtonClick(): void {\r\n    this._toggleComboboxDropdown();\r\n  }\r\n\r\n  protected _onComboboxButtonKeyDown(ev: KeyboardEvent): void {\r\n    if (ev.key === 'Enter') {\r\n      this._toggleComboboxDropdown();\r\n    }\r\n  }\r\n\r\n  protected _onOptionMouseOver(ev: MouseEvent): void {\r\n    if (this._isHoverForbidden) {\r\n      return;\r\n    }\r\n\r\n    const el = ev.target as HTMLElement;\r\n\r\n    if (!el.matches('.option')) {\r\n      return;\r\n    }\r\n\r\n    this._activeIndex = Number(\r\n      this.combobox ? el.dataset.filteredIndex : el.dataset.index\r\n    );\r\n  }\r\n\r\n  protected _onEnterKeyDown(): void {\r\n    const list = this.combobox ? this._filteredOptions : this._options;\r\n    const showDropdownNext = !this._showDropdown;\r\n\r\n    this._toggleDropdown(showDropdownNext);\r\n\r\n    if (\r\n      !this._multiple &&\r\n      !showDropdownNext &&\r\n      this._selectedIndex !== this._activeIndex\r\n    ) {\r\n      this._selectedIndex = list[this._activeIndex].index;\r\n      this._value = this._options[this._selectedIndex].value;\r\n      this._dispatchChangeEvent();\r\n    }\r\n\r\n    if (this.combobox) {\r\n      if (!this._multiple && !showDropdownNext) {\r\n        this._selectedIndex = this._filteredOptions[this._activeIndex].index;\r\n      }\r\n\r\n      if (!this._multiple && showDropdownNext) {\r\n        this.updateComplete.then(() => {\r\n          this._scrollActiveElementToTop();\r\n        });\r\n      }\r\n    }\r\n\r\n    if (this._multiple && showDropdownNext) {\r\n      this._activeIndex = 0;\r\n    }\r\n  }\r\n\r\n  private _onSpaceKeyDown() {\r\n    if (!this._showDropdown) {\r\n      this._toggleDropdown(true);\r\n      return;\r\n    }\r\n\r\n    if (this._showDropdown && this._multiple && this._activeIndex > -1) {\r\n      const opts = this.combobox ? this._filteredOptions : this._options;\r\n      const {selected} = opts[this._activeIndex];\r\n\r\n      opts[this._activeIndex].selected = !selected;\r\n      this._selectedIndexes = [];\r\n\r\n      opts.forEach(({index, selected}) => {\r\n        if (selected) {\r\n          this._selectedIndexes.push(index);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private _scrollActiveElementToTop() {\r\n    this._listElement.scrollTop = Math.floor(this._activeIndex * OPT_HEIGHT);\r\n  }\r\n\r\n  private async _adjustOptionListScrollPos(direction: 'down' | 'up') {\r\n    const numOpts = this.combobox\r\n      ? this._filteredOptions.length\r\n      : this._options.length;\r\n\r\n    if (numOpts <= VISIBLE_OPTS) {\r\n      return;\r\n    }\r\n\r\n    this._isHoverForbidden = true;\r\n    window.addEventListener('mousemove', this._onMouseMoveBound);\r\n\r\n    if (!this._listElement) {\r\n      await this.updateComplete;\r\n    }\r\n\r\n    const ulScrollTop = this._listElement.scrollTop;\r\n    const liPosY = this._activeIndex * OPT_HEIGHT;\r\n\r\n    if (direction === 'down') {\r\n      if (liPosY + OPT_HEIGHT >= LIST_HEIGHT + ulScrollTop) {\r\n        this._listElement.scrollTop =\r\n          (this._activeIndex - (VISIBLE_OPTS - 1)) * OPT_HEIGHT;\r\n      }\r\n    }\r\n\r\n    if (direction === 'up') {\r\n      if (liPosY <= ulScrollTop - OPT_HEIGHT) {\r\n        this._scrollActiveElementToTop();\r\n      }\r\n    }\r\n  }\r\n\r\n  protected _onArrowUpKeyDown(): void {\r\n    if (this._showDropdown) {\r\n      if (this._activeIndex <= 0) {\r\n        return;\r\n      }\r\n\r\n      this._activeIndex -= 1;\r\n      this._adjustOptionListScrollPos('up');\r\n    }\r\n  }\r\n\r\n  protected _onArrowDownKeyDown(): void {\r\n    if (this._showDropdown) {\r\n      if (this._activeIndex >= this._currentOptions.length - 1) {\r\n        return;\r\n      }\r\n\r\n      this._activeIndex += 1;\r\n      this._adjustOptionListScrollPos('down');\r\n    }\r\n  }\r\n\r\n  private _onComponentKeyDown(event: KeyboardEvent) {\r\n    if ([' ', 'ArrowUp', 'ArrowDown', 'Escape'].includes(event.key)) {\r\n      event.stopPropagation();\r\n      event.preventDefault();\r\n    }\r\n\r\n    if (event.key === 'Enter') {\r\n      this._onEnterKeyDown();\r\n    }\r\n\r\n    if (event.key === ' ') {\r\n      this._onSpaceKeyDown();\r\n    }\r\n\r\n    if (event.key === 'Escape') {\r\n      this._toggleDropdown(false);\r\n    }\r\n\r\n    if (event.key === 'ArrowUp') {\r\n      this._onArrowUpKeyDown();\r\n    }\r\n\r\n    if (event.key === 'ArrowDown') {\r\n      this._onArrowDownKeyDown();\r\n    }\r\n  }\r\n\r\n  private _onComponentFocus() {\r\n    this.focused = true;\r\n  }\r\n\r\n  private _onComponentBlur() {\r\n    this.focused = false;\r\n  }\r\n\r\n  protected _onSlotChange(): void {\r\n    const stat = this._addOptionsFromSlottedElements();\r\n\r\n    if (stat.selectedIndexes.length > 0) {\r\n      this._selectedIndex = stat.selectedIndexes[0];\r\n      this._selectedIndexes = stat.selectedIndexes;\r\n      this._value = stat.values[0];\r\n      this._values = stat.values;\r\n    }\r\n\r\n    if (\r\n      !this._multiple &&\r\n      !this.combobox &&\r\n      stat.selectedIndexes.length === 0\r\n    ) {\r\n      this._selectedIndex = 0;\r\n    }\r\n  }\r\n\r\n  protected _onComboboxInputFocus(ev: FocusEvent): void {\r\n    (ev.target as HTMLInputElement).select();\r\n  }\r\n\r\n  protected _onComboboxInputInput(ev: InputEvent): void {\r\n    this._filterPattern = (ev.target as HTMLInputElement).value;\r\n    this._activeIndex = -1;\r\n    this._toggleDropdown(true);\r\n  }\r\n\r\n  protected _renderOptions(): TemplateResult | TemplateResult[] {\r\n    return [];\r\n  }\r\n\r\n  private _renderDescription() {\r\n    if (!this._options[this._activeIndex]) {\r\n      return nothing;\r\n    }\r\n\r\n    const {description} = this._options[this._activeIndex];\r\n\r\n    return description\r\n      ? html`<div class=\"description\">${description}</div>`\r\n      : nothing;\r\n  }\r\n\r\n  protected _renderSelectFace(): TemplateResult {\r\n    return html`${nothing}`;\r\n  }\r\n\r\n  protected _renderComboboxFace(): TemplateResult {\r\n    return html`${nothing}`;\r\n  }\r\n\r\n  protected _renderDropdownControls(): TemplateResult {\r\n    return html`${nothing}`;\r\n  }\r\n\r\n  private _renderDropdown() {\r\n    const classes = classMap({\r\n      dropdown: true,\r\n      multiple: this._multiple,\r\n    });\r\n\r\n    return html`\r\n      <div class=\"${classes}\">\r\n        ${this._renderOptions()} ${this._renderDropdownControls()}\r\n        ${this._renderDescription()}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  static get styles(): CSSResultGroup {\r\n    return [super.styles, dropdownStyles];\r\n  }\r\n\r\n  render(): TemplateResult {\r\n    return html`\r\n      <slot class=\"main-slot\" @slotchange=\"${this._onSlotChange}\"></slot>\r\n      ${this.combobox ? this._renderComboboxFace() : this._renderSelectFace()}\r\n      ${this._showDropdown ? this._renderDropdown() : nothing}\r\n    `;\r\n  }\r\n}\r\n"]}