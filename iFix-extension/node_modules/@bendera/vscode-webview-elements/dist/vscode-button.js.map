{"version":3,"file":"vscode-button.js","sourceRoot":"","sources":["../src/vscode-button.ts"],"names":[],"mappings":"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","sourcesContent":["import {css, CSSResultGroup, html, nothing, TemplateResult} from 'lit';\r\nimport {customElement, property} from 'lit/decorators.js';\r\nimport {classMap} from 'lit/directives/class-map.js';\r\nimport {VscElement} from './includes/VscElement';\r\nimport './vscode-icon';\r\n\r\n/**\r\n * @fires vsc-click - Dispatched only if the disabled attribute is false.\r\n */\r\n@customElement('vscode-button')\r\nexport class VscodeButton extends VscElement {\r\n  @property({type: Number, reflect: true}) tabindex = 0;\r\n  @property({type: Boolean}) secondary = false;\r\n  @property({reflect: true}) role = 'button';\r\n  @property({type: Boolean}) disabled = false;\r\n  /**\r\n   * A [Codicon](https://microsoft.github.io/vscode-codicons/dist/codicon.html) before the label\r\n   */\r\n  @property() icon = '';\r\n  /**\r\n   * A [Codicon](https://microsoft.github.io/vscode-codicons/dist/codicon.html) after the label\r\n   */\r\n  @property() iconAfter = '';\r\n\r\n  @property({type: Boolean, reflect: true})\r\n  focused = false;\r\n\r\n  private _prevTabindex = 0;\r\n\r\n  constructor() {\r\n    super();\r\n    this.addEventListener('keydown', this._handleKeyDown.bind(this));\r\n    this.addEventListener('click', this._handleClick.bind(this));\r\n  }\r\n\r\n  connectedCallback(): void {\r\n    super.connectedCallback();\r\n    this.addEventListener('focus', this._handleFocusBound);\r\n    this.addEventListener('blur', this._handleBlurBound);\r\n  }\r\n\r\n  disconnectedCallback(): void {\r\n    super.disconnectedCallback();\r\n    this.removeEventListener('focus', this._handleFocusBound);\r\n    this.removeEventListener('blur', this._handleBlurBound);\r\n  }\r\n\r\n  attributeChangedCallback(name: string, oldVal: string, newVal: string): void {\r\n    super.attributeChangedCallback(name, oldVal, newVal);\r\n\r\n    if (name === 'disabled' && this.hasAttribute('disabled')) {\r\n      this._prevTabindex = this.tabindex;\r\n      this.tabindex = -1;\r\n    } else if (name === 'disabled' && !this.hasAttribute('disabled')) {\r\n      this.tabindex = this._prevTabindex;\r\n    }\r\n  }\r\n\r\n  private _handleKeyDown(event: KeyboardEvent) {\r\n    if (\r\n      (event.key === 'Enter' || event.key === ' ') &&\r\n      !this.hasAttribute('disabled')\r\n    ) {\r\n      this.dispatchEvent(\r\n        new CustomEvent<{\r\n          originalEvent: MouseEvent;\r\n        }>('vsc-click', {\r\n          detail: {\r\n            originalEvent: new MouseEvent('click'),\r\n          },\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  private _handleClick(event: MouseEvent) {\r\n    if (!this.hasAttribute('disabled')) {\r\n      this.dispatchEvent(\r\n        new CustomEvent<{\r\n          originalEvent: MouseEvent;\r\n        }>('vsc-click', {\r\n          detail: {\r\n            originalEvent: event,\r\n          },\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  private _handleFocus() {\r\n    this.focused = true;\r\n  }\r\n\r\n  private _handleFocusBound = this._handleFocus.bind(this);\r\n\r\n  private _handleBlur() {\r\n    this.focused = false;\r\n  }\r\n\r\n  private _handleBlurBound = this._handleBlur.bind(this);\r\n\r\n  static get styles(): CSSResultGroup {\r\n    return [\r\n      super.styles,\r\n      css`\r\n        :host {\r\n          align-items: center;\r\n          background-color: var(--vscode-button-background);\r\n          border: 0;\r\n          border-radius: 0;\r\n          box-sizing: border-box;\r\n          color: var(--vscode-button-foreground);\r\n          cursor: pointer;\r\n          display: inline-flex;\r\n          font-size: var(--vscode-font-size);\r\n          font-weight: var(--vscode-font-weight);\r\n          line-height: 26px;\r\n          padding: 0 14px;\r\n          user-select: none;\r\n        }\r\n\r\n        :host([secondary]) {\r\n          color: var(--vscode-button-secondaryForeground);\r\n          background-color: var(--vscode-button-secondaryBackground);\r\n        }\r\n\r\n        :host([disabled]) {\r\n          cursor: default;\r\n          opacity: 0.4;\r\n          pointer-events: none;\r\n        }\r\n\r\n        :host(:hover) {\r\n          background-color: var(--vscode-button-hoverBackground);\r\n        }\r\n\r\n        :host([disabled]:hover) {\r\n          background-color: var(--vscode-button-background);\r\n        }\r\n\r\n        :host([secondary]:hover) {\r\n          background-color: var(--vscode-button-secondaryHoverBackground);\r\n        }\r\n\r\n        :host([secondary][disabled]:hover) {\r\n          background-color: var(--vscode-button-secondaryBackground);\r\n        }\r\n\r\n        :host(:focus),\r\n        :host(:active) {\r\n          outline: none;\r\n        }\r\n\r\n        :host(:focus) {\r\n          background-color: var(--vscode-button-hoverBackground);\r\n          outline: 1px solid var(--vscode-focusBorder);\r\n          outline-offset: 2px;\r\n        }\r\n\r\n        :host([disabled]:focus) {\r\n          background-color: var(--vscode-button-background);\r\n          outline: 0;\r\n        }\r\n\r\n        :host([secondary]:focus) {\r\n          background-color: var(--vscode-button-secondaryHoverBackground);\r\n        }\r\n\r\n        :host([secondary][disabled]:focus) {\r\n          background-color: var(--vscode-button-secondaryBackground);\r\n        }\r\n\r\n        .wrapper {\r\n          align-items: center;\r\n          box-sizing: border-box;\r\n          display: flex;\r\n          justify-content: center;\r\n          position: relative;\r\n          width: 100%;\r\n        }\r\n\r\n        .wrapper.has-icon-before {\r\n          padding-left: 21px;\r\n        }\r\n\r\n        .wrapper.has-icon-after {\r\n          padding-right: 21px;\r\n        }\r\n\r\n        .icon {\r\n          color: var(--vscode-button-foreground);\r\n          left: 0;\r\n          position: absolute;\r\n        }\r\n\r\n        .icon-after {\r\n          color: var(--vscode-button-foreground);\r\n          position: absolute;\r\n          right: 0;\r\n        }\r\n      `,\r\n    ];\r\n  }\r\n\r\n  render(): TemplateResult {\r\n    const hasIcon = this.icon !== '';\r\n    const hasIconAfter = this.iconAfter !== '';\r\n    const wrapperClasses = {\r\n      wrapper: true,\r\n      'has-icon-before': hasIcon,\r\n      'has-icon-after': hasIconAfter,\r\n    };\r\n\r\n    const iconElem = hasIcon\r\n      ? html`<vscode-icon name=\"${this.icon}\" class=\"icon\"></vscode-icon>`\r\n      : nothing;\r\n\r\n    const iconAfterElem = hasIconAfter\r\n      ? html`<vscode-icon\r\n          name=\"${this.iconAfter}\"\r\n          class=\"icon-after\"\r\n        ></vscode-icon>`\r\n      : nothing;\r\n\r\n    return html`\r\n      <span class=\"${classMap(wrapperClasses)}\">\r\n        ${iconElem}\r\n        <slot></slot>\r\n        ${iconAfterElem}\r\n      </span>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'vscode-button': VscodeButton;\r\n  }\r\n}\r\n"]}